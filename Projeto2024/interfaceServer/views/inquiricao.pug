extends layout

block content
    .w3-card-4
        header.w3-container.w3-blue
            .w3-bar.w3-border-bottom
                .w3-bar-item
                    h2 #[b Trabalho Prático de EngWeb2024]
                if u.is_logged == false
                    a.w3-bar-item.w3-button.w3-right(href="/login" style="position:relative; top:10px;")
                        .w3-cell-row
                            .w3-cell
                                i.fa.fa-sign-in-alt(style="color: #000000;")
                            .w3-cell(style="width:80%")
                                h6 #[b Login]
                else
                    a.w3-bar-item.w3-button(href="/home" style="position:relative; top:10px;")
                        .w3-cell-row
                            .w3-cell
                                i.fa.fa-home(style="color: #000000;")
                            .w3-cell(style="width:80%")
                                h6 #[b Início]
                    a.w3-bar-item.w3-button(href="/getInquiricoesList" style="position:relative; top:10px;")
                        .w3-cell-row
                            .w3-cell
                                i.fa.fa-folder-open(style="color: #000000;")
                            .w3-cell(style="width:80%")
                                h6 #[b Lista de Inquirições]
                    if u.level == "Administrador"
                        a.w3-bar-item.w3-button(href="/moreOptions" style="position:relative; top:10px;")
                            .w3-cell-row
                                .w3-cell
                                    i.fa.fa-cog(style="color: #000000;")
                                .w3-cell(style="width:80%")
                                    h6 #[b Mais Opções]
                    .w3-bar-item.w3-right(style="display: flex; top:10px; justify-content: space-between; align-items: center;")
                        h6 #{u.username}&nbsp;&nbsp;
                        a.w3-button(href="/logout" style="position:relative; top:1px; display: flex; align-items: center;")
                            i.fa.fa-sign-out-alt(style="color: #000000;")
                            h6 &nbsp;&nbsp;#[b Sair]
            h3 &nbsp;&nbsp;&nbsp;#[b Registo de Inquirição #{inquiricao._id}]  
    .w3-container  
      form.w3-container()
        fieldset 
            legend Infos:

            label Id 
                input.w3-input(type="text" name="id" value=inquiricao._id readonly)
                
            label Nível de Descrição 
                input.w3-input(type="text" name="descLevel" value=inquiricao.DescriptionLevel readonly)

            label Código de Referência
                input.w3-input(type="text" name="unitId" value=inquiricao.CompleteUnitId readonly)

            label Código de Repositório 
                input.w3-input(type="text" name="repoCod" value=inquiricao.RepositoryCode readonly)

            label Código do País 
                input.w3-input(type="text" name="coutryCod" value=inquiricao.CountryCode readonly)

            label Título da Unidade
                input.w3-input(type='text' name='title' value=inquiricao.UnitTitle readonly)

            label Data Inicial da Unidade
                input.w3-input(type='text' name='initDate' value=inquiricao.UnitDateInitial readonly)
            
            label Data Final da Unidade
                input.w3-input(type='text' name='endDate' value=inquiricao.UnitDateFinal readonly)

            label Repositório
                input.w3-input(type='text' name='repo' value=inquiricao.Repository readonly)

            label Âmbito e conteúdo
                input.w3-input(type='text' name='scopeContent' value=inquiricao.ScopeContent readonly)

            label Cota Atual
                input.w3-input(type='text' name='cotaAtual' value=inquiricao.PhysLoc readonly)

            label Cota Antiga
                input.w3-input(type='text' name='cataAntiga' value=inquiricao.PreviousLoc readonly)

            label Revisão
                input.w3-input(type='text' name='revised' value=(inquiricao.Revised ? 'Sim' : 'Não') readonly)

            label Publicada
                input.w3-input(type='text' name='publish' value=(inquiricao.Published ? 'Sim' : 'Não') readonly)

            label Disponível
                input.w3-input(type='text' name='available' value=(inquiricao.Available ? 'Sim' : 'Não') readonly)
        
            label Criador/a
                input.w3-input(type='text' name='creator' value=inquiricao.Creator readonly)

            label Data de Criação
                input.w3-input(type='text' name='created' value=inquiricao.Created readonly)
            
            label Username do Criador/a
                input.w3-input(type='text' name='creatorUsername' value=inquiricao.Username readonly)

        if inquiricao.Relations
            fieldset 
                table.w3-table-all
                    tr
                        th Pessoas Relacionadas
                        th ID
                    each rel in inquiricao.Relations
                        tr
                            td= rel.key
                            td 
                                a(href='/inquiricao/' + rel.value) #{rel.value}

        a#cancel.w3-btn.w3-round.w3-red.w3-margin(href="/getInquiricoesList") Voltar atrás
        
    footer.w3-container.w3-blue.w3-center
        h5 André Pimentel Filipe, David da Silva Teixeira, João Manuel Novais da Silva e João Henrique Costa Ferreira | Engenharia Web 2024 - Universidade do Minho
        h5 Generado por EngWeb2024 in #{date}